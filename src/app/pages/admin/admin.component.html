<div class="card">
  <div class="card-header">Add Mobile</div>
  <div class="card-body">
    <form #mobileForm="ngForm" (ngSubmit)="onSubmit(mobileForm)">
      <!-- Mobile Name -->
      <div class="form-group floating-label mb-3"
       [class.has-value]="model().mobileName">
        <label class="form-label">Mobile Name</label>
        <input
          type="text"
          class="form-control"
          id="mobileName"
          name="mobileName"
          #mobileName="ngModel"
          [(ngModel)]="model().mobileName"
          required
        />
        @if (mobileName.invalid && mobileName.touched) {
          <div class="text-danger">Mobile Name is required</div>
        }
      </div>

      <!-- Brand (corrected from mobileBrand to brand) -->
      <div class="form-group floating-label mb-3"
       [class.has-value]="model().brand">
        <label class="form-label">Mobile Brand</label>
        <input
          type="text"
          class="form-control"
          id="brand"
          name="brand"
          #brand="ngModel"
          [(ngModel)]="model().brand"
          required
        />
        @if (brand.invalid && brand.touched) {
          <div class="text-danger">Mobile Brand is required</div>
        }
      </div>

      <!-- Price (correct casing) -->
      <div class="form-group floating-label mb-3"
       [class.has-value]="model().price">
        <label class="form-label">Price (â‚¹)</label>
        <input
          type="number"
          class="form-control"
          id="price"
          name="price"
          #price="ngModel"
          [(ngModel)]="model().price"
          required
        />
        @if (price.invalid && price.touched) {
          <div class="text-danger">Price is required</div>
        }
      </div>

      <!-- RAM (correct casing and name) -->
      <div class="form-group floating-label mb-3"
       [class.has-value]="model().ram || isRamFocused">
        <label class="form-label">RAM</label>
        <input
          type="text"
          class="form-control"
          [attr.placeholder]="isRamFocused ? 'e.g., 8 GB' : null"
          (focus)="isRamFocused = true"
          (blur)="isRamFocused = false"       
          id="ram"
          name="ram"
          #ram="ngModel"
          [(ngModel)]="model().ram"
          required
        />
        @if (ram.invalid && ram.touched) {
          <div class="text-danger">RAM is required</div>
        }
      </div>

      <!-- External Storage (keep numbers only if backend expects that) -->
      <div class="form-group floating-label mb-3"
       [class.has-value]="model().externalStorage || isStorageFocused">
        <label class="form-label">External Storage</label>
        <input
          type="number"
          class="form-control"
          [attr.placeholder]="isStorageFocused ? 'e.g., 128 GB' : null"
          (focus)="isStorageFocused = true"
          (blur)="isStorageFocused = false"
          id="externalStorage"
          name="externalStorage"
          #externalStorage="ngModel"
          [(ngModel)]="model().externalStorage"
          required
        />
        @if (externalStorage.invalid && externalStorage.touched) {
          <div class="text-danger">External Storage is required</div>
        }
      </div>
      <div>
        <label for="image" class="mt-3">Choose an image:</label>
        <br class="br">
        <input
          class="mt-2"
          type="file"
          id="image"
          name="image"
          accept="image/*"
          [multiple]="false"
          (change)="onFileSelected($event)"
          required=""
        />
      </div>
      <!-- -----CHANGED LINE FOR SIGNALS -->
      @if (cover()){
        <div class="imageDiv" align="right">
          <img [src]="cover()" alt="">
        </div>
      }
      <!-- -----CHANGED LINE FOR SIGNALS -->
      @if (showError()){
        <div class="text-danger">Image is required</div>
      }

      <div class="m-3 mt-4" align="center">
        <button type="submit" class="btn btn-primary">Save</button>
      </div>
    </form>
  </div>
</div>
